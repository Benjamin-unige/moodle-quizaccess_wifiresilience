YUI.add("moodle-quizaccess_wifiresilience-initialiseattempt",(function(Y,NAME){M.quizaccess_wifiresilience=M.quizaccess_wifiresilience||{},M.quizaccess_wifiresilience.initialiseattempt={init:function(cleanexamname,examstoragekeyname,page,fetchandlogconfig,fetchandlog){quizaccess_wifiresilience_progress=$(".quizaccess_wifiresilience_progress .quizaccess_wifiresilience_bar");var examviewportmaxwidth=$(window).width();examviewportmaxwidth&&0!=examviewportmaxwidth&&"undefined"!=examviewportmaxwidth||(examviewportmaxwidth=1200),quizaccess_wifiresilience_progress_step=1,$("#quizaccess_wifiresilience_result").html(M.util.get_string("loadingstep1","quizaccess_wifiresilience",cleanexamname)),quizaccess_wifiresilience_progress.animate({width:2*examviewportmaxwidth/10+"px"}),$(window).on("pageshow",(function(){})),$(document).ready((function(){if(quizaccess_wifiresilience_progress_step=2,$("#quizaccess_wifiresilience_result").html(M.util.get_string("loadingstep2","quizaccess_wifiresilience")),quizaccess_wifiresilience_progress.animate({width:3*examviewportmaxwidth/10+"px"}),quizaccess_wifiresilience_progress_step=10,$("#quizaccess_wifiresilience_result").html(M.util.get_string("loadingstep10","quizaccess_wifiresilience")),quizaccess_wifiresilience_progress.animate({width:"100%"}),void 0!==M.quizaccess_wifiresilience.navigation&&"undefined"!=typeof Storage){var sessionstorage_exam_key=examstoragekeyname;localStorage.setItem("current_exam",sessionstorage_exam_key)}void 0!==M.quizaccess_wifiresilience.navigation&&M.mod_quiz.timer.endtime&&0!=M.mod_quiz.timer.endtime&&"undefined"!=M.mod_quiz.timer.endtime&&(wifiresilience_window_load_time=(new Date).getTime()-M.pageloadstarttime.getTime()+12e3),void 0!==M.quizaccess_wifiresilience.navigation?setTimeout((function(){Y.all(M.quizaccess_wifiresilience.navigation.SELECTORS.ALL_PAGE_DIVS).addClass("quizaccess_wifiresilience_hidden"),Y.one(M.quizaccess_wifiresilience.navigation.SELECTORS.QUIZ_FORM).removeClass("quizaccess_wifiresilience_hidden"),Y.one(M.quizaccess_wifiresilience.navigation.SELECTORS.PAGE_DIV_ROOT+page).removeClass("quizaccess_wifiresilience_hidden"),$("#quizaccess_wifiresilience_overlay").fadeOut()}),1e4):$("#quizaccess_wifiresilience_overlay").fadeOut()}));const staticExamFlagging="Wifiresilience-SW-flags",quizaccess_wifiresilience_flagging=async function(url){try{const response=await fetch(url,{mode:"cors",credentials:"include"});response.ok&&console.log("[Wifiresilience-SW] ServiceWorker: Exam Static Flags SUCCESSFUL:\n > "+url)}catch(error){return void console.log("[Wifiresilience-SW] ServiceWorker: Exam Static Flags ERROR:\n > "+url,error)}};quizaccess_wifiresilience_flagging(M.util.image_url("i/flagged")),quizaccess_wifiresilience_flagging(M.util.image_url("i/unflagged")),quizaccess_wifiresilience_flagging(M.util.image_url("navflagged","quiz")),quizaccess_wifiresilience_flagging(M.util.image_url("mod/quiz/flag-on","theme")),quizaccess_wifiresilience_flagging(M.util.image_url("i/loading_small")),quizaccess_wifiresilience_flagging(M.util.image_url("f/folder-24","core"));const quizaccess_wifiresilience_fetch_and_log=async function(url){try{const response=await fetch(url,{mode:"cors",credentials:"include"});response.ok?console.log("[Wifiresilience-SW] ServiceWorker: Prefetch Attachments/Embedded Files (as per fetchandlog setting in quiz) is SUCCESSFUL:\n > "+url):console.log("[Wifiresilience-SW] ServiceWorker: Prefetch Attachments/Embedded Files (as per fetchandlog setting in quiz) has FAILED:\n > "+url)}catch(error){return void console.log("[Wifiresilience-SW] ServiceWorker: Prefetch Attachments/Embedded Files (as per fetchandlog setting in quiz) ERROR:\n > "+url,error)}};if(fetchandlogconfig){var links=fetchandlog.split(/\r\n|\r|\n/);if(0!=links.length)for(var key in links){var oldLink=links[key],cleanedlink=links[key].split("pluginfile.php").join("mod/quiz/accessrule/wifiresilience/examfile.php"),element;$("[src*='"+oldLink+"']").attr("src")&&$("[src*='"+oldLink+"']").attr("src",cleanedlink),quizaccess_wifiresilience_fetch_and_log(cleanedlink)}}}}}),"@VERSION@",{requires:["base","node","event","event-valuechange","node-event-delegate","io-form","json","core_question_engine","mod_quiz"]});